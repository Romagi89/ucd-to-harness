pipeline:
  name: OrderOps - deploy
  identifier: OrderOps_deploy
  orgIdentifier: my_org
  projectIdentifier: my_project
  tags:
    runtime: dotnet
  stages:
  - stage:
      name: orderops-web
      identifier: orderops_web
      type: Deployment
      spec:
        deploymentType: WinRm
        service:
          serviceRef: orderops_web
        environment:
          environmentRef: <+input>
          infrastructureDefinitions:
          - identifier: <+input>
        execution:
          steps:
          - step:
              name: Deploy
              identifier: Deploy
              type: ShellScript
              spec:
                shell: PowerShell
                onDelegate: true
                source:
                  type: Inline
                  spec:
                    script: 'Write-Host "TODO: implement deployment for component:
                      orderops-web"'
  - stage:
      name: orderops-worker
      identifier: orderops_worker
      type: Deployment
      spec:
        deploymentType: WinRm
        service:
          serviceRef: orderops_worker
        environment:
          environmentRef: <+input>
          infrastructureDefinitions:
          - identifier: <+input>
        execution:
          steps:
          - step:
              name: Deploy
              identifier: Deploy
              type: ShellScript
              spec:
                shell: PowerShell
                onDelegate: true
                source:
                  type: Inline
                  spec:
                    script: 'Write-Host "TODO: implement deployment for component:
                      orderops-worker"'
  - stage:
      name: orderops-agent
      identifier: orderops_agent
      type: Deployment
      spec:
        deploymentType: WinRm
        service:
          serviceRef: orderops_agent
        environment:
          environmentRef: <+input>
          infrastructureDefinitions:
          - identifier: <+input>
        execution:
          steps:
          - step:
              name: Deploy
              identifier: Deploy
              type: ShellScript
              spec:
                shell: PowerShell
                onDelegate: true
                source:
                  type: Inline
                  spec:
                    script: 'Write-Host "TODO: implement deployment for component:
                      orderops-agent"'
  - stage:
      name: orderops-config
      identifier: orderops_config
      type: Deployment
      spec:
        deploymentType: WinRm
        service:
          serviceRef: orderops_config
        environment:
          environmentRef: <+input>
          infrastructureDefinitions:
          - identifier: <+input>
        execution:
          steps:
          - step:
              name: Deploy
              identifier: Deploy
              type: ShellScript
              spec:
                shell: PowerShell
                onDelegate: true
                source:
                  type: Inline
                  spec:
                    script: 'Write-Host "TODO: implement deployment for component:
                      orderops-config"'
