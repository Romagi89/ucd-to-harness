{
  "id": "e3b1c442-98fc-4f8c-82d5-5af83f5f7c5a",
  "name": "Deploy Component",
  "description": "Deploys the web application to the target server",
  "version": 6,
  "active": true,
  "defaultWorkingDir": "${p:resource/work.dir}",
  "rootActivity": {
    "children": [
      {
        "type": "componentProcessStep",
        "name": "Stop Web Server",
        "commandName": "Shell",
        "properties": {
          "command": "systemctl stop tomcat"
        }
      },
      {
        "type": "componentProcessStep",
        "name": "Copy Artifacts",
        "commandName": "Download Artifacts",
        "properties": {
          "artifactSet": "${p:version/name}",
          "destination": "/opt/tomcat/webapps"
        }
      },
      {
        "type": "componentProcessStep",
        "name": "Start Web Server",
        "commandName": "Shell",
        "properties": {
          "command": "systemctl start tomcat"
        }
      }
    ]
  },
  "tags": ["deploy", "webapp"]
}
